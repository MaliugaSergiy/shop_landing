(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

//var $ = require("jquery");


//import Vue from 'vue';
new Vue({
	el: '#example',
	data: {
		carouselControls: true,
		slideWidth: 500,
		autoplayTimeout: 3000,
		slideHeight: 750,
		slideBorder: 1,
		slideSpace: 420,
		slidePerspective: 10,
		slideScaling: 300,
		animationSpeed: 500,
		startIndex: 0,
		autoplayEnabled: true,
		visible: 7,
		direction: 'rtl',
		infinite: true,
		disable3d: false,
		controlsPrevHtml: '&#10092;',
		controlsNextHtml: '&#10093;',
		controlsWidth: 30,
		controlsHeight: 60,
		slides: [{
			src: 'img/icons/3d-slider/3d/index0.jpg'
		}, {
			src: 'img/icons/3d-slider/3d/index1.jpg'
		}, {
			src: 'img/icons/3d-slider/3d/index2.jpg'
		}, {
			src: 'img/icons/3d-slider/3d/index4.jpg'
		}, {
			src: 'img/icons/3d-slider/3d/index3.jpg' //
		}, {
			src: 'img/icons/3d-slider/3d/index5.jpg' //
		}, {
			src: 'img/icons/3d-slider/3d/index6.jpg'
		}, {
			src: 'img/icons/3d-slider/3d/index7.jpg'
		}, {
			src: 'img/icons/3d-slider/3d/index8.jpg'
		}, {
			src: 'img/icons/3d-slider/3d/index9.jpg'
		}]
	},
	components: {
		'carousel-3d': Carousel3d.Carousel3d,
		'slide': Carousel3d.Slide
	}
});

//$('#unique_design').slickLightbox({
//     src: 'src',
//   itemSelector: 'img'
//});


// hover effect of button in section#examples
$(".btn_look").on("mouseenter", function () {
	$(".inner_capcha").addClass("hover_btn_examples");
});
$(".btn_look").on("mouseleave", function () {
	$(".inner_capcha").removeClass("hover_btn_examples");
});

var clock;

$(document).ready(function () {

	//parallax tests


	$(window).on("scroll", function () {

		//background parallax  of section #start
		var sstart = $("#start"),
		    overlay = $(".overlay1"),
		    sheight = sstart.height(),
		    winST = $(this).scrollTop();
		sstart.css("background-position", " 50% " + (-winST / 20 + 50) + "%");
		overlay.css("opacity", winST / sheight + 0.08);

		if ($(window).width() > 1045) {

			if (winST > $('#opportunities .fl_opp').offset().top - $(window).height()) {

				var offset = Math.min(0, winST - $('#opportunities .fl_opp').offset().top + $(window).height() / 2.5);

				console.log(Math.abs(1 - offset));

				$('#opportunities .fl_opp .item:first-child').css({
					'transform': 'translate(' + offset + 'px, ' + Math.abs(offset * 0.4) + 'px)'
				});

				$('#opportunities .fl_opp .item2').css({
					//'transform': 'scale('+ (Math.abs(offset)) +')'
				});

				$('#opportunities .fl_opp .item:last-child').css({
					'transform': 'translate(' + Math.abs(offset) + 'px, ' + Math.abs(offset * 0.4) + 'px)'
				});
			}
		}
	});

	//behaviour of header by scrolling 
	function headerBehaviour1() {

		$.scrollDetection = function (options) {
			var settings = $.extend({
				scrollDown: function scrollDown() {},
				scrollUp: function scrollUp() {}
			}, options);

			var scrollPosition = 0;
			$(window).scroll(function () {
				var cursorPosition = $(this).scrollTop();
				if (cursorPosition > scrollPosition) {
					settings.scrollDown();
				} else if (cursorPosition < scrollPosition) {
					settings.scrollUp();
				}
				scrollPosition = cursorPosition;
			});
		};

		var $header = $("header");
		$.scrollDetection({
			scrollDown: function scrollDown() {
				$header.addClass("header_hidden");
			},
			scrollUp: function scrollUp() {
				$header.removeClass("header_hidden");
			}
		});
	}

	headerBehaviour1();

	// behaviour of header by scrolling (second solution)

	function headerBehaviour2() {

		$("header").headroom({
			"offset": 205,
			"tolerance": 15,
			"classes": {
				"initial": "animated",
				"pinned": "swingInX",
				"unpinned": "swingOutX"
			}
		});

		// to destroy
		$("#header").headroom("destroy");
	}

	//headerBehaviour2();


	$('.unique_slider').slick({
		infinite: true,
		centerMode: true,
		centerPadding: '0px',
		slidesToShow: 5,
		slidesToScroll: 1

	});
	$('.unique_slider, .examples_slide').slickLightbox({
		src: 'src',
		itemSelector: '.wrap_img_slider img'
	});

	$('#arrayOfImages').slickLightbox({
		images: ['img/icons/3d-slider/3d/index0.jpg', 'img/icons/3d-slider/3d/index2.jpg', 'img/icons/3d-slider/3d/index3.jpg']
	});

	$('.examples_slide').slick({
		infinite: true,
		centerMode: true,
		centerPadding: '100px',
		slidesToShow: 2,
		slidesToScroll: 1,
		responsive: [{
			breakpoint: 1200,
			settings: {
				centerPadding: '50px'
			}
		}, {
			breakpoint: 900,
			settings: {
				centerPadding: '0'
			}
		}, {
			breakpoint: 520,
			settings: {
				centerPadding: '50px',
				slidesToShow: 1
			}
		}]

	});

	//clock counter

	var clock;

	var date = new Date(2017, 8, 1);
	var now = new Date();
	var diff = date.getTime() / 1000 - now.getTime() / 1000;

	var clock = $('.clock').FlipClock(diff, {
		clockFace: 'DailyCounter',
		countdown: true
	});

	//			clock = $('.clock').FlipClock({
	//		        clockFace: 'DailyCounter',
	//		        autoStart: false,
	//		        callbacks: {
	//		        	stop: function() {
	//		        		$('.message').html('Время акции вышло (')
	//		        	}
	//		        }
	//		    });
	//				    
	//		    clock.setTime(200000);
	//		    clock.setCountdown(true);
	//		    clock.start();

	//WOW init
	new WOW().init();

	// slide and swipe menu init
	$('nav').slideAndSwipe();

	$(".ssm-toggle-nav").on("click", function () {
		$("body").toggleClass("body_OH");
	});

	document.addEventListener("keydown", keyDownTextField, false);

	function keyDownTextField(e) {
		var keyCode = e.keyCode;
		if (keyCode == 27) {}
	}

	//Form VAlidation 

	$("#js_register_form").validate({
		rules: {
			form_name: {
				required: true
			},
			form_email: {
				required: true,
				email: true
			},
			form_phone: {
				required: true,
				minlenhth: 10,
				digits: true
			}
		},
		messages: {
			form_name: {
				required: "Обязательное поле"
			},
			form_email: {
				required: "Обязательное поле",
				email: "Введите корректный Email"
			},
			form_phone: {
				required: "Обязательное поле"
			}
		},
		focusCleanup: true,
		focusInvalid: false
	});
	$("#js_register_form2").validate({
		rules: {
			form_name: {
				required: true
			},
			form_email: {
				required: true,
				email: true
			},
			form_phone: {
				required: true,
				minlenhth: 10,
				digits: true
			}
		},
		messages: {
			form_name: {
				required: "Обязательное поле"
			},
			form_email: {
				required: "Обязательное поле",
				email: "Введите корректный Email"
			},
			form_phone: {
				required: "Обязательное поле"
			}
		},
		focusCleanup: true,
		focusInvalid: false
	});

	//phone input mask
	$("#form_phone, #form_phone2").mask("(999) 999-99-99");

	//    $(".button-collapse").sideNav();


	// section#start overlay opacity by scrolling 
	$(window).on("scroll", function () {
		var sstart = $("#start"),
		    overlay = $(".overlay"),
		    overlayIMG = $(".overlay_img"),
		    sheight = sstart.height(),
		    winST = $(window).scrollTop();
		overlay.css("opacity", winST / sheight);
		overlayIMG.css("opacity", winST / sheight);
	});

	// random overlay color at section#start
	var arrColors = ["img/bg_start_big_overlay_paren_orangeP.png", "img/bg_start_big_overlay_paren_orange.png", "img/bg_start_big_overlay_paren_darkBlue.png", "img/bg_start_big_overlay_paren_coral.png", "img/bg_start_big_overlay_paren_grey.png"];

	function randomInteger(min, max) {
		var rand = min + Math.random() * (max + 1 - min);
		rand = Math.floor(rand);
		return rand;
	}
	$(".overlay_img").attr("src", arrColors[randomInteger(0, 4)]);

	// hover effect of button in section#start 
	$(".getCons").on("mouseenter", function () {
		$("#start .containerr").addClass("hoverButton");
	});
	$(".getCons").on("mouseleave", function () {
		$("#start .containerr").removeClass("hoverButton");
	});

	// header appearing after start-section is scrolled
	/*if ($(window).scrollTop() + 200 > $("#underStart").offset().top) {
     $("header").css("top", "0");
 }
 $(window).on("scroll", function () {
     if ($("#underStart").offset().top - $(window).scrollTop() - 200 < 0) {
         $("header").css("top", "0");
         $("header nav").css("top", "60px");
         $(" header .ssm-overlay").css("top", "60px");
     } else {
         $("header").css("top", "");
         $("header nav").css("top", "");
         $(" header .ssm-overlay").css("top", "");
     }
 });*/

	// parallax init
	$('.parallax').parallax();

	//add preloader of scrolling
	$("<div id='contPreloader'><div id='scrollPreload'></div></div>").prependTo($("body"));
	$(window).scroll(function () {
		var ratio = $(document).scrollTop() / (($(document).height() - $(window).height()) / 100);
		$("#scrollPreload").width(ratio + "%");
	});

	// change header style by scrolling 
	$(window).on("scroll", function () {
		if ($(this).scrollTop() > 77) {
			$("header .logo").css("margin", "0px");
		} else {
			$("header .logo").css("margin", "");
		}
	});

	// inner anchor-links
	$('a[data-target^="anchor"], [data-target^="anchor"] ').on("click.smoothscroll", function () {
		var target = $(this).attr("href"),
		    bl_top = $(target).offset().top - 56;
		$('body, html').animate({
			scrollTop: bl_top
		}, 700);
		return false;
	});

	// buttton UP
	// button arrow to UP

	$("body").append("<button class='btn_up'/>");

	$(window).scroll(function () {
		var windscroll = $(window).scrollTop();
		if ($(window).scrollTop() > 50) {
			$(".btn_up").addClass("activeB");
		} else {
			$(".btn_up").removeClass("activeB");
		}
	});

	$(".btn_up").on("click", function (e) {
		e.preventDefault();
		$(this).removeClass("activeB");
		$("body").animate({
			'scrollTop': 0
		}, 800);
		$("html").animate({
			'scrollTop': 0
		}, 800);
	});

	// heightlite nav links by scrolling
	$(document).scroll(function () {

		navigationAnchors(1);
		navigationAnchors(2);
		navigationAnchors(3);
		navigationAnchors(4);
		navigationAnchors(5);
		navigationAnchors(7);
		navigationAnchors(6);
		navigationAnchors(7);

		function navigationAnchors(n) {
			if ($('[data-pos=\'pos-' + n + '\']').offset().top - $(window).scrollTop() - 300 < 0) {
				if (!$('[data-pos=\'pos-' + n + '\']').next().offset().top - $(window).scrollTop() - 300 < 0) {
					$('.main-navigation a.link-' + n).parent().siblings().children().removeClass('activeNavLink');
					//                    console.dir($(`.nav a.link-${n}`).parent().siblings());
					$('.main-navigation a.link-' + n).addClass('activeNavLink');
				} else {
					$('.main-navigation a.link-' + n).removeClass('activeNavLink');
				}
			} else {
				$('.main-navigation a.link-' + n).removeClass('activeNavLink');
			}
		}
	});
});
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXYvanMvY29tbW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIid1c2Ugc3RyaWN0JztcblxuLy92YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG5cblxuLy9pbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XG5uZXcgVnVlKHtcblx0ZWw6ICcjZXhhbXBsZScsXG5cdGRhdGE6IHtcblx0XHRjYXJvdXNlbENvbnRyb2xzOiB0cnVlLFxuXHRcdHNsaWRlV2lkdGg6IDUwMCxcblx0XHRhdXRvcGxheVRpbWVvdXQ6IDMwMDAsXG5cdFx0c2xpZGVIZWlnaHQ6IDc1MCxcblx0XHRzbGlkZUJvcmRlcjogMSxcblx0XHRzbGlkZVNwYWNlOiA0MjAsXG5cdFx0c2xpZGVQZXJzcGVjdGl2ZTogMTAsXG5cdFx0c2xpZGVTY2FsaW5nOiAzMDAsXG5cdFx0YW5pbWF0aW9uU3BlZWQ6IDUwMCxcblx0XHRzdGFydEluZGV4OiAwLFxuXHRcdGF1dG9wbGF5RW5hYmxlZDogdHJ1ZSxcblx0XHR2aXNpYmxlOiA3LFxuXHRcdGRpcmVjdGlvbjogJ3J0bCcsXG5cdFx0aW5maW5pdGU6IHRydWUsXG5cdFx0ZGlzYWJsZTNkOiBmYWxzZSxcblx0XHRjb250cm9sc1ByZXZIdG1sOiAnJiMxMDA5MjsnLFxuXHRcdGNvbnRyb2xzTmV4dEh0bWw6ICcmIzEwMDkzOycsXG5cdFx0Y29udHJvbHNXaWR0aDogMzAsXG5cdFx0Y29udHJvbHNIZWlnaHQ6IDYwLFxuXHRcdHNsaWRlczogW3tcblx0XHRcdHNyYzogJ2ltZy9pY29ucy8zZC1zbGlkZXIvM2QvaW5kZXgwLmpwZydcblx0XHR9LCB7XG5cdFx0XHRzcmM6ICdpbWcvaWNvbnMvM2Qtc2xpZGVyLzNkL2luZGV4MS5qcGcnXG5cdFx0fSwge1xuXHRcdFx0c3JjOiAnaW1nL2ljb25zLzNkLXNsaWRlci8zZC9pbmRleDIuanBnJ1xuXHRcdH0sIHtcblx0XHRcdHNyYzogJ2ltZy9pY29ucy8zZC1zbGlkZXIvM2QvaW5kZXg0LmpwZydcblx0XHR9LCB7XG5cdFx0XHRzcmM6ICdpbWcvaWNvbnMvM2Qtc2xpZGVyLzNkL2luZGV4My5qcGcnIC8vXG5cdFx0fSwge1xuXHRcdFx0c3JjOiAnaW1nL2ljb25zLzNkLXNsaWRlci8zZC9pbmRleDUuanBnJyAvL1xuXHRcdH0sIHtcblx0XHRcdHNyYzogJ2ltZy9pY29ucy8zZC1zbGlkZXIvM2QvaW5kZXg2LmpwZydcblx0XHR9LCB7XG5cdFx0XHRzcmM6ICdpbWcvaWNvbnMvM2Qtc2xpZGVyLzNkL2luZGV4Ny5qcGcnXG5cdFx0fSwge1xuXHRcdFx0c3JjOiAnaW1nL2ljb25zLzNkLXNsaWRlci8zZC9pbmRleDguanBnJ1xuXHRcdH0sIHtcblx0XHRcdHNyYzogJ2ltZy9pY29ucy8zZC1zbGlkZXIvM2QvaW5kZXg5LmpwZydcblx0XHR9XVxuXHR9LFxuXHRjb21wb25lbnRzOiB7XG5cdFx0J2Nhcm91c2VsLTNkJzogQ2Fyb3VzZWwzZC5DYXJvdXNlbDNkLFxuXHRcdCdzbGlkZSc6IENhcm91c2VsM2QuU2xpZGVcblx0fVxufSk7XG5cbi8vJCgnI3VuaXF1ZV9kZXNpZ24nKS5zbGlja0xpZ2h0Ym94KHtcbi8vICAgICBzcmM6ICdzcmMnLFxuLy8gICBpdGVtU2VsZWN0b3I6ICdpbWcnXG4vL30pO1xuXG5cbi8vIGhvdmVyIGVmZmVjdCBvZiBidXR0b24gaW4gc2VjdGlvbiNleGFtcGxlc1xuJChcIi5idG5fbG9va1wiKS5vbihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24gKCkge1xuXHQkKFwiLmlubmVyX2NhcGNoYVwiKS5hZGRDbGFzcyhcImhvdmVyX2J0bl9leGFtcGxlc1wiKTtcbn0pO1xuJChcIi5idG5fbG9va1wiKS5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24gKCkge1xuXHQkKFwiLmlubmVyX2NhcGNoYVwiKS5yZW1vdmVDbGFzcyhcImhvdmVyX2J0bl9leGFtcGxlc1wiKTtcbn0pO1xuXG52YXIgY2xvY2s7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuXHQvL3BhcmFsbGF4IHRlc3RzXG5cblxuXHQkKHdpbmRvdykub24oXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuXG5cdFx0Ly9iYWNrZ3JvdW5kIHBhcmFsbGF4ICBvZiBzZWN0aW9uICNzdGFydFxuXHRcdHZhciBzc3RhcnQgPSAkKFwiI3N0YXJ0XCIpLFxuXHRcdCAgICBvdmVybGF5ID0gJChcIi5vdmVybGF5MVwiKSxcblx0XHQgICAgc2hlaWdodCA9IHNzdGFydC5oZWlnaHQoKSxcblx0XHQgICAgd2luU1QgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuXHRcdHNzdGFydC5jc3MoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsIFwiIDUwJSBcIiArICgtd2luU1QgLyAyMCArIDUwKSArIFwiJVwiKTtcblx0XHRvdmVybGF5LmNzcyhcIm9wYWNpdHlcIiwgd2luU1QgLyBzaGVpZ2h0ICsgMC4wOCk7XG5cblx0XHRpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiAxMDQ1KSB7XG5cblx0XHRcdGlmICh3aW5TVCA+ICQoJyNvcHBvcnR1bml0aWVzIC5mbF9vcHAnKS5vZmZzZXQoKS50b3AgLSAkKHdpbmRvdykuaGVpZ2h0KCkpIHtcblxuXHRcdFx0XHR2YXIgb2Zmc2V0ID0gTWF0aC5taW4oMCwgd2luU1QgLSAkKCcjb3Bwb3J0dW5pdGllcyAuZmxfb3BwJykub2Zmc2V0KCkudG9wICsgJCh3aW5kb3cpLmhlaWdodCgpIC8gMi41KTtcblxuXHRcdFx0XHRjb25zb2xlLmxvZyhNYXRoLmFicygxIC0gb2Zmc2V0KSk7XG5cblx0XHRcdFx0JCgnI29wcG9ydHVuaXRpZXMgLmZsX29wcCAuaXRlbTpmaXJzdC1jaGlsZCcpLmNzcyh7XG5cdFx0XHRcdFx0J3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoJyArIG9mZnNldCArICdweCwgJyArIE1hdGguYWJzKG9mZnNldCAqIDAuNCkgKyAncHgpJ1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQkKCcjb3Bwb3J0dW5pdGllcyAuZmxfb3BwIC5pdGVtMicpLmNzcyh7XG5cdFx0XHRcdFx0Ly8ndHJhbnNmb3JtJzogJ3NjYWxlKCcrIChNYXRoLmFicyhvZmZzZXQpKSArJyknXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdCQoJyNvcHBvcnR1bml0aWVzIC5mbF9vcHAgLml0ZW06bGFzdC1jaGlsZCcpLmNzcyh7XG5cdFx0XHRcdFx0J3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoJyArIE1hdGguYWJzKG9mZnNldCkgKyAncHgsICcgKyBNYXRoLmFicyhvZmZzZXQgKiAwLjQpICsgJ3B4KSdcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHQvL2JlaGF2aW91ciBvZiBoZWFkZXIgYnkgc2Nyb2xsaW5nIFxuXHRmdW5jdGlvbiBoZWFkZXJCZWhhdmlvdXIxKCkge1xuXG5cdFx0JC5zY3JvbGxEZXRlY3Rpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdFx0dmFyIHNldHRpbmdzID0gJC5leHRlbmQoe1xuXHRcdFx0XHRzY3JvbGxEb3duOiBmdW5jdGlvbiBzY3JvbGxEb3duKCkge30sXG5cdFx0XHRcdHNjcm9sbFVwOiBmdW5jdGlvbiBzY3JvbGxVcCgpIHt9XG5cdFx0XHR9LCBvcHRpb25zKTtcblxuXHRcdFx0dmFyIHNjcm9sbFBvc2l0aW9uID0gMDtcblx0XHRcdCQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgY3Vyc29yUG9zaXRpb24gPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuXHRcdFx0XHRpZiAoY3Vyc29yUG9zaXRpb24gPiBzY3JvbGxQb3NpdGlvbikge1xuXHRcdFx0XHRcdHNldHRpbmdzLnNjcm9sbERvd24oKTtcblx0XHRcdFx0fSBlbHNlIGlmIChjdXJzb3JQb3NpdGlvbiA8IHNjcm9sbFBvc2l0aW9uKSB7XG5cdFx0XHRcdFx0c2V0dGluZ3Muc2Nyb2xsVXAoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzY3JvbGxQb3NpdGlvbiA9IGN1cnNvclBvc2l0aW9uO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdHZhciAkaGVhZGVyID0gJChcImhlYWRlclwiKTtcblx0XHQkLnNjcm9sbERldGVjdGlvbih7XG5cdFx0XHRzY3JvbGxEb3duOiBmdW5jdGlvbiBzY3JvbGxEb3duKCkge1xuXHRcdFx0XHQkaGVhZGVyLmFkZENsYXNzKFwiaGVhZGVyX2hpZGRlblwiKTtcblx0XHRcdH0sXG5cdFx0XHRzY3JvbGxVcDogZnVuY3Rpb24gc2Nyb2xsVXAoKSB7XG5cdFx0XHRcdCRoZWFkZXIucmVtb3ZlQ2xhc3MoXCJoZWFkZXJfaGlkZGVuXCIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0aGVhZGVyQmVoYXZpb3VyMSgpO1xuXG5cdC8vIGJlaGF2aW91ciBvZiBoZWFkZXIgYnkgc2Nyb2xsaW5nIChzZWNvbmQgc29sdXRpb24pXG5cblx0ZnVuY3Rpb24gaGVhZGVyQmVoYXZpb3VyMigpIHtcblxuXHRcdCQoXCJoZWFkZXJcIikuaGVhZHJvb20oe1xuXHRcdFx0XCJvZmZzZXRcIjogMjA1LFxuXHRcdFx0XCJ0b2xlcmFuY2VcIjogMTUsXG5cdFx0XHRcImNsYXNzZXNcIjoge1xuXHRcdFx0XHRcImluaXRpYWxcIjogXCJhbmltYXRlZFwiLFxuXHRcdFx0XHRcInBpbm5lZFwiOiBcInN3aW5nSW5YXCIsXG5cdFx0XHRcdFwidW5waW5uZWRcIjogXCJzd2luZ091dFhcIlxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gdG8gZGVzdHJveVxuXHRcdCQoXCIjaGVhZGVyXCIpLmhlYWRyb29tKFwiZGVzdHJveVwiKTtcblx0fVxuXG5cdC8vaGVhZGVyQmVoYXZpb3VyMigpO1xuXG5cblx0JCgnLnVuaXF1ZV9zbGlkZXInKS5zbGljayh7XG5cdFx0aW5maW5pdGU6IHRydWUsXG5cdFx0Y2VudGVyTW9kZTogdHJ1ZSxcblx0XHRjZW50ZXJQYWRkaW5nOiAnMHB4Jyxcblx0XHRzbGlkZXNUb1Nob3c6IDUsXG5cdFx0c2xpZGVzVG9TY3JvbGw6IDFcblxuXHR9KTtcblx0JCgnLnVuaXF1ZV9zbGlkZXIsIC5leGFtcGxlc19zbGlkZScpLnNsaWNrTGlnaHRib3goe1xuXHRcdHNyYzogJ3NyYycsXG5cdFx0aXRlbVNlbGVjdG9yOiAnLndyYXBfaW1nX3NsaWRlciBpbWcnXG5cdH0pO1xuXG5cdCQoJyNhcnJheU9mSW1hZ2VzJykuc2xpY2tMaWdodGJveCh7XG5cdFx0aW1hZ2VzOiBbJ2ltZy9pY29ucy8zZC1zbGlkZXIvM2QvaW5kZXgwLmpwZycsICdpbWcvaWNvbnMvM2Qtc2xpZGVyLzNkL2luZGV4Mi5qcGcnLCAnaW1nL2ljb25zLzNkLXNsaWRlci8zZC9pbmRleDMuanBnJ11cblx0fSk7XG5cblx0JCgnLmV4YW1wbGVzX3NsaWRlJykuc2xpY2soe1xuXHRcdGluZmluaXRlOiB0cnVlLFxuXHRcdGNlbnRlck1vZGU6IHRydWUsXG5cdFx0Y2VudGVyUGFkZGluZzogJzEwMHB4Jyxcblx0XHRzbGlkZXNUb1Nob3c6IDIsXG5cdFx0c2xpZGVzVG9TY3JvbGw6IDEsXG5cdFx0cmVzcG9uc2l2ZTogW3tcblx0XHRcdGJyZWFrcG9pbnQ6IDEyMDAsXG5cdFx0XHRzZXR0aW5nczoge1xuXHRcdFx0XHRjZW50ZXJQYWRkaW5nOiAnNTBweCdcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRicmVha3BvaW50OiA5MDAsXG5cdFx0XHRzZXR0aW5nczoge1xuXHRcdFx0XHRjZW50ZXJQYWRkaW5nOiAnMCdcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRicmVha3BvaW50OiA1MjAsXG5cdFx0XHRzZXR0aW5nczoge1xuXHRcdFx0XHRjZW50ZXJQYWRkaW5nOiAnNTBweCcsXG5cdFx0XHRcdHNsaWRlc1RvU2hvdzogMVxuXHRcdFx0fVxuXHRcdH1dXG5cblx0fSk7XG5cblx0Ly9jbG9jayBjb3VudGVyXG5cblx0dmFyIGNsb2NrO1xuXG5cdHZhciBkYXRlID0gbmV3IERhdGUoMjAxNywgOCwgMSk7XG5cdHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuXHR2YXIgZGlmZiA9IGRhdGUuZ2V0VGltZSgpIC8gMTAwMCAtIG5vdy5nZXRUaW1lKCkgLyAxMDAwO1xuXG5cdHZhciBjbG9jayA9ICQoJy5jbG9jaycpLkZsaXBDbG9jayhkaWZmLCB7XG5cdFx0Y2xvY2tGYWNlOiAnRGFpbHlDb3VudGVyJyxcblx0XHRjb3VudGRvd246IHRydWVcblx0fSk7XG5cblx0Ly9cdFx0XHRjbG9jayA9ICQoJy5jbG9jaycpLkZsaXBDbG9jayh7XG5cdC8vXHRcdCAgICAgICAgY2xvY2tGYWNlOiAnRGFpbHlDb3VudGVyJyxcblx0Ly9cdFx0ICAgICAgICBhdXRvU3RhcnQ6IGZhbHNlLFxuXHQvL1x0XHQgICAgICAgIGNhbGxiYWNrczoge1xuXHQvL1x0XHQgICAgICAgIFx0c3RvcDogZnVuY3Rpb24oKSB7XG5cdC8vXHRcdCAgICAgICAgXHRcdCQoJy5tZXNzYWdlJykuaHRtbCgn0JLRgNC10LzRjyDQsNC60YbQuNC4INCy0YvRiNC70L4gKCcpXG5cdC8vXHRcdCAgICAgICAgXHR9XG5cdC8vXHRcdCAgICAgICAgfVxuXHQvL1x0XHQgICAgfSk7XG5cdC8vXHRcdFx0XHQgICAgXG5cdC8vXHRcdCAgICBjbG9jay5zZXRUaW1lKDIwMDAwMCk7XG5cdC8vXHRcdCAgICBjbG9jay5zZXRDb3VudGRvd24odHJ1ZSk7XG5cdC8vXHRcdCAgICBjbG9jay5zdGFydCgpO1xuXG5cdC8vV09XIGluaXRcblx0bmV3IFdPVygpLmluaXQoKTtcblxuXHQvLyBzbGlkZSBhbmQgc3dpcGUgbWVudSBpbml0XG5cdCQoJ25hdicpLnNsaWRlQW5kU3dpcGUoKTtcblxuXHQkKFwiLnNzbS10b2dnbGUtbmF2XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRcdCQoXCJib2R5XCIpLnRvZ2dsZUNsYXNzKFwiYm9keV9PSFwiKTtcblx0fSk7XG5cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5RG93blRleHRGaWVsZCwgZmFsc2UpO1xuXG5cdGZ1bmN0aW9uIGtleURvd25UZXh0RmllbGQoZSkge1xuXHRcdHZhciBrZXlDb2RlID0gZS5rZXlDb2RlO1xuXHRcdGlmIChrZXlDb2RlID09IDI3KSB7fVxuXHR9XG5cblx0Ly9Gb3JtIFZBbGlkYXRpb24gXG5cblx0JChcIiNqc19yZWdpc3Rlcl9mb3JtXCIpLnZhbGlkYXRlKHtcblx0XHRydWxlczoge1xuXHRcdFx0Zm9ybV9uYW1lOiB7XG5cdFx0XHRcdHJlcXVpcmVkOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0Zm9ybV9lbWFpbDoge1xuXHRcdFx0XHRyZXF1aXJlZDogdHJ1ZSxcblx0XHRcdFx0ZW1haWw6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRmb3JtX3Bob25lOiB7XG5cdFx0XHRcdHJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRtaW5sZW5odGg6IDEwLFxuXHRcdFx0XHRkaWdpdHM6IHRydWVcblx0XHRcdH1cblx0XHR9LFxuXHRcdG1lc3NhZ2VzOiB7XG5cdFx0XHRmb3JtX25hbWU6IHtcblx0XHRcdFx0cmVxdWlyZWQ6IFwi0J7QsdGP0LfQsNGC0LXQu9GM0L3QvtC1INC/0L7Qu9C1XCJcblx0XHRcdH0sXG5cdFx0XHRmb3JtX2VtYWlsOiB7XG5cdFx0XHRcdHJlcXVpcmVkOiBcItCe0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVwiLFxuXHRcdFx0XHRlbWFpbDogXCLQktCy0LXQtNC40YLQtSDQutC+0YDRgNC10LrRgtC90YvQuSBFbWFpbFwiXG5cdFx0XHR9LFxuXHRcdFx0Zm9ybV9waG9uZToge1xuXHRcdFx0XHRyZXF1aXJlZDogXCLQntCx0Y/Qt9Cw0YLQtdC70YzQvdC+0LUg0L/QvtC70LVcIlxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Zm9jdXNDbGVhbnVwOiB0cnVlLFxuXHRcdGZvY3VzSW52YWxpZDogZmFsc2Vcblx0fSk7XG5cdCQoXCIjanNfcmVnaXN0ZXJfZm9ybTJcIikudmFsaWRhdGUoe1xuXHRcdHJ1bGVzOiB7XG5cdFx0XHRmb3JtX25hbWU6IHtcblx0XHRcdFx0cmVxdWlyZWQ6IHRydWVcblx0XHRcdH0sXG5cdFx0XHRmb3JtX2VtYWlsOiB7XG5cdFx0XHRcdHJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRlbWFpbDogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdGZvcm1fcGhvbmU6IHtcblx0XHRcdFx0cmVxdWlyZWQ6IHRydWUsXG5cdFx0XHRcdG1pbmxlbmh0aDogMTAsXG5cdFx0XHRcdGRpZ2l0czogdHJ1ZVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0bWVzc2FnZXM6IHtcblx0XHRcdGZvcm1fbmFtZToge1xuXHRcdFx0XHRyZXF1aXJlZDogXCLQntCx0Y/Qt9Cw0YLQtdC70YzQvdC+0LUg0L/QvtC70LVcIlxuXHRcdFx0fSxcblx0XHRcdGZvcm1fZW1haWw6IHtcblx0XHRcdFx0cmVxdWlyZWQ6IFwi0J7QsdGP0LfQsNGC0LXQu9GM0L3QvtC1INC/0L7Qu9C1XCIsXG5cdFx0XHRcdGVtYWlsOiBcItCS0LLQtdC00LjRgtC1INC60L7RgNGA0LXQutGC0L3Ri9C5IEVtYWlsXCJcblx0XHRcdH0sXG5cdFx0XHRmb3JtX3Bob25lOiB7XG5cdFx0XHRcdHJlcXVpcmVkOiBcItCe0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVwiXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRmb2N1c0NsZWFudXA6IHRydWUsXG5cdFx0Zm9jdXNJbnZhbGlkOiBmYWxzZVxuXHR9KTtcblxuXHQvL3Bob25lIGlucHV0IG1hc2tcblx0JChcIiNmb3JtX3Bob25lLCAjZm9ybV9waG9uZTJcIikubWFzayhcIig5OTkpIDk5OS05OS05OVwiKTtcblxuXHQvLyAgICAkKFwiLmJ1dHRvbi1jb2xsYXBzZVwiKS5zaWRlTmF2KCk7XG5cblxuXHQvLyBzZWN0aW9uI3N0YXJ0IG92ZXJsYXkgb3BhY2l0eSBieSBzY3JvbGxpbmcgXG5cdCQod2luZG93KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHNzdGFydCA9ICQoXCIjc3RhcnRcIiksXG5cdFx0ICAgIG92ZXJsYXkgPSAkKFwiLm92ZXJsYXlcIiksXG5cdFx0ICAgIG92ZXJsYXlJTUcgPSAkKFwiLm92ZXJsYXlfaW1nXCIpLFxuXHRcdCAgICBzaGVpZ2h0ID0gc3N0YXJ0LmhlaWdodCgpLFxuXHRcdCAgICB3aW5TVCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcblx0XHRvdmVybGF5LmNzcyhcIm9wYWNpdHlcIiwgd2luU1QgLyBzaGVpZ2h0KTtcblx0XHRvdmVybGF5SU1HLmNzcyhcIm9wYWNpdHlcIiwgd2luU1QgLyBzaGVpZ2h0KTtcblx0fSk7XG5cblx0Ly8gcmFuZG9tIG92ZXJsYXkgY29sb3IgYXQgc2VjdGlvbiNzdGFydFxuXHR2YXIgYXJyQ29sb3JzID0gW1wiaW1nL2JnX3N0YXJ0X2JpZ19vdmVybGF5X3BhcmVuX29yYW5nZVAucG5nXCIsIFwiaW1nL2JnX3N0YXJ0X2JpZ19vdmVybGF5X3BhcmVuX29yYW5nZS5wbmdcIiwgXCJpbWcvYmdfc3RhcnRfYmlnX292ZXJsYXlfcGFyZW5fZGFya0JsdWUucG5nXCIsIFwiaW1nL2JnX3N0YXJ0X2JpZ19vdmVybGF5X3BhcmVuX2NvcmFsLnBuZ1wiLCBcImltZy9iZ19zdGFydF9iaWdfb3ZlcmxheV9wYXJlbl9ncmV5LnBuZ1wiXTtcblxuXHRmdW5jdGlvbiByYW5kb21JbnRlZ2VyKG1pbiwgbWF4KSB7XG5cdFx0dmFyIHJhbmQgPSBtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCArIDEgLSBtaW4pO1xuXHRcdHJhbmQgPSBNYXRoLmZsb29yKHJhbmQpO1xuXHRcdHJldHVybiByYW5kO1xuXHR9XG5cdCQoXCIub3ZlcmxheV9pbWdcIikuYXR0cihcInNyY1wiLCBhcnJDb2xvcnNbcmFuZG9tSW50ZWdlcigwLCA0KV0pO1xuXG5cdC8vIGhvdmVyIGVmZmVjdCBvZiBidXR0b24gaW4gc2VjdGlvbiNzdGFydCBcblx0JChcIi5nZXRDb25zXCIpLm9uKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbiAoKSB7XG5cdFx0JChcIiNzdGFydCAuY29udGFpbmVyclwiKS5hZGRDbGFzcyhcImhvdmVyQnV0dG9uXCIpO1xuXHR9KTtcblx0JChcIi5nZXRDb25zXCIpLm9uKFwibW91c2VsZWF2ZVwiLCBmdW5jdGlvbiAoKSB7XG5cdFx0JChcIiNzdGFydCAuY29udGFpbmVyclwiKS5yZW1vdmVDbGFzcyhcImhvdmVyQnV0dG9uXCIpO1xuXHR9KTtcblxuXHQvLyBoZWFkZXIgYXBwZWFyaW5nIGFmdGVyIHN0YXJ0LXNlY3Rpb24gaXMgc2Nyb2xsZWRcblx0LyppZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgMjAwID4gJChcIiN1bmRlclN0YXJ0XCIpLm9mZnNldCgpLnRvcCkge1xuICAgICAkKFwiaGVhZGVyXCIpLmNzcyhcInRvcFwiLCBcIjBcIik7XG4gfVxuICQod2luZG93KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgIGlmICgkKFwiI3VuZGVyU3RhcnRcIikub2Zmc2V0KCkudG9wIC0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpIC0gMjAwIDwgMCkge1xuICAgICAgICAgJChcImhlYWRlclwiKS5jc3MoXCJ0b3BcIiwgXCIwXCIpO1xuICAgICAgICAgJChcImhlYWRlciBuYXZcIikuY3NzKFwidG9wXCIsIFwiNjBweFwiKTtcbiAgICAgICAgICQoXCIgaGVhZGVyIC5zc20tb3ZlcmxheVwiKS5jc3MoXCJ0b3BcIiwgXCI2MHB4XCIpO1xuICAgICB9IGVsc2Uge1xuICAgICAgICAgJChcImhlYWRlclwiKS5jc3MoXCJ0b3BcIiwgXCJcIik7XG4gICAgICAgICAkKFwiaGVhZGVyIG5hdlwiKS5jc3MoXCJ0b3BcIiwgXCJcIik7XG4gICAgICAgICAkKFwiIGhlYWRlciAuc3NtLW92ZXJsYXlcIikuY3NzKFwidG9wXCIsIFwiXCIpO1xuICAgICB9XG4gfSk7Ki9cblxuXHQvLyBwYXJhbGxheCBpbml0XG5cdCQoJy5wYXJhbGxheCcpLnBhcmFsbGF4KCk7XG5cblx0Ly9hZGQgcHJlbG9hZGVyIG9mIHNjcm9sbGluZ1xuXHQkKFwiPGRpdiBpZD0nY29udFByZWxvYWRlcic+PGRpdiBpZD0nc2Nyb2xsUHJlbG9hZCc+PC9kaXY+PC9kaXY+XCIpLnByZXBlbmRUbygkKFwiYm9keVwiKSk7XG5cdCQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuXHRcdHZhciByYXRpbyA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpIC8gKCgkKGRvY3VtZW50KS5oZWlnaHQoKSAtICQod2luZG93KS5oZWlnaHQoKSkgLyAxMDApO1xuXHRcdCQoXCIjc2Nyb2xsUHJlbG9hZFwiKS53aWR0aChyYXRpbyArIFwiJVwiKTtcblx0fSk7XG5cblx0Ly8gY2hhbmdlIGhlYWRlciBzdHlsZSBieSBzY3JvbGxpbmcgXG5cdCQod2luZG93KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiA3Nykge1xuXHRcdFx0JChcImhlYWRlciAubG9nb1wiKS5jc3MoXCJtYXJnaW5cIiwgXCIwcHhcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoXCJoZWFkZXIgLmxvZ29cIikuY3NzKFwibWFyZ2luXCIsIFwiXCIpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gaW5uZXIgYW5jaG9yLWxpbmtzXG5cdCQoJ2FbZGF0YS10YXJnZXRePVwiYW5jaG9yXCJdLCBbZGF0YS10YXJnZXRePVwiYW5jaG9yXCJdICcpLm9uKFwiY2xpY2suc21vb3Roc2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgdGFyZ2V0ID0gJCh0aGlzKS5hdHRyKFwiaHJlZlwiKSxcblx0XHQgICAgYmxfdG9wID0gJCh0YXJnZXQpLm9mZnNldCgpLnRvcCAtIDU2O1xuXHRcdCQoJ2JvZHksIGh0bWwnKS5hbmltYXRlKHtcblx0XHRcdHNjcm9sbFRvcDogYmxfdG9wXG5cdFx0fSwgNzAwKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0pO1xuXG5cdC8vIGJ1dHR0b24gVVBcblx0Ly8gYnV0dG9uIGFycm93IHRvIFVQXG5cblx0JChcImJvZHlcIikuYXBwZW5kKFwiPGJ1dHRvbiBjbGFzcz0nYnRuX3VwJy8+XCIpO1xuXG5cdCQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuXHRcdHZhciB3aW5kc2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuXHRcdGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiA1MCkge1xuXHRcdFx0JChcIi5idG5fdXBcIikuYWRkQ2xhc3MoXCJhY3RpdmVCXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKFwiLmJ0bl91cFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZUJcIik7XG5cdFx0fVxuXHR9KTtcblxuXHQkKFwiLmJ0bl91cFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVCXCIpO1xuXHRcdCQoXCJib2R5XCIpLmFuaW1hdGUoe1xuXHRcdFx0J3Njcm9sbFRvcCc6IDBcblx0XHR9LCA4MDApO1xuXHRcdCQoXCJodG1sXCIpLmFuaW1hdGUoe1xuXHRcdFx0J3Njcm9sbFRvcCc6IDBcblx0XHR9LCA4MDApO1xuXHR9KTtcblxuXHQvLyBoZWlnaHRsaXRlIG5hdiBsaW5rcyBieSBzY3JvbGxpbmdcblx0JChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcblxuXHRcdG5hdmlnYXRpb25BbmNob3JzKDEpO1xuXHRcdG5hdmlnYXRpb25BbmNob3JzKDIpO1xuXHRcdG5hdmlnYXRpb25BbmNob3JzKDMpO1xuXHRcdG5hdmlnYXRpb25BbmNob3JzKDQpO1xuXHRcdG5hdmlnYXRpb25BbmNob3JzKDUpO1xuXHRcdG5hdmlnYXRpb25BbmNob3JzKDcpO1xuXHRcdG5hdmlnYXRpb25BbmNob3JzKDYpO1xuXHRcdG5hdmlnYXRpb25BbmNob3JzKDcpO1xuXG5cdFx0ZnVuY3Rpb24gbmF2aWdhdGlvbkFuY2hvcnMobikge1xuXHRcdFx0aWYgKCQoJ1tkYXRhLXBvcz1cXCdwb3MtJyArIG4gKyAnXFwnXScpLm9mZnNldCgpLnRvcCAtICQod2luZG93KS5zY3JvbGxUb3AoKSAtIDMwMCA8IDApIHtcblx0XHRcdFx0aWYgKCEkKCdbZGF0YS1wb3M9XFwncG9zLScgKyBuICsgJ1xcJ10nKS5uZXh0KCkub2Zmc2V0KCkudG9wIC0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpIC0gMzAwIDwgMCkge1xuXHRcdFx0XHRcdCQoJy5tYWluLW5hdmlnYXRpb24gYS5saW5rLScgKyBuKS5wYXJlbnQoKS5zaWJsaW5ncygpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZU5hdkxpbmsnKTtcblx0XHRcdFx0XHQvLyAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kaXIoJChgLm5hdiBhLmxpbmstJHtufWApLnBhcmVudCgpLnNpYmxpbmdzKCkpO1xuXHRcdFx0XHRcdCQoJy5tYWluLW5hdmlnYXRpb24gYS5saW5rLScgKyBuKS5hZGRDbGFzcygnYWN0aXZlTmF2TGluaycpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQoJy5tYWluLW5hdmlnYXRpb24gYS5saW5rLScgKyBuKS5yZW1vdmVDbGFzcygnYWN0aXZlTmF2TGluaycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCcubWFpbi1uYXZpZ2F0aW9uIGEubGluay0nICsgbikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZU5hdkxpbmsnKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xufSk7Il19
